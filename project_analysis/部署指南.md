# Passivbot 部署指南

## 部署状态

✅ **部署成功完成！**

## 部署环境

- **操作系统**: macOS (darwin 22.6.0)
- **Python版本**: 3.13.3
- **Rust版本**: 1.89.0
- **虚拟环境**: 已创建并激活

## 部署步骤总结

### 1. ✅ 创建Python虚拟环境
```bash
python3 -m venv venv
source venv/bin/activate
```

### 2. ✅ 安装Rust环境
```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
source ~/.cargo/env
rustup default stable
```

### 3. ✅ 安装Python依赖
```bash
pip install --upgrade pip
pip install numba  # 兼容Python 3.13的版本
pip install python-dateutil pandas ccxt hjson prettytable sortedcontainers
pip install matplotlib prospector colorama mkdocs mkdocs-material pymdown-extensions tqdm PyYAML pyecharts deap websockets dictdiffer openpyxl msgpack plotly
pip install maturin
```

### 4. ✅ 构建Rust扩展
```bash
cd passivbot-rust
PYO3_USE_ABI3_FORWARD_COMPATIBILITY=1 maturin develop --release
cd ..
```

### 5. ✅ 配置API密钥
```bash
cp api-keys.json.example api-keys.json
```

### 6. ✅ 验证部署
- ✅ 主程序运行正常
- ✅ 回测功能正常
- ✅ 优化器功能正常
- ✅ Rust扩展导入成功

## 使用方法

### 启动虚拟环境
```bash
source venv/bin/activate
```

### 运行主程序
```bash
python src/main.py --help
```

### 运行回测
```bash
python src/backtest.py --help
```

### 运行优化器
```bash
python src/optimize.py --help
```

## 重要说明

### Python 3.13 兼容性
- 项目原本要求Python >= 3.8，但某些依赖包（如numba）对Python 3.13支持有限
- 已通过以下方式解决：
  - 安装兼容Python 3.13的numba版本
  - 使用`PYO3_USE_ABI3_FORWARD_COMPATIBILITY=1`构建Rust扩展

### API密钥配置
- 已创建`api-keys.json`文件
- 需要用户自行添加真实的交易所API密钥
- 参考`api-keys.json.example`文件格式

### 配置文件
- 使用`configs/template.json`作为配置模板
- 支持JSON格式的配置文件
- 可以通过命令行参数覆盖配置

## 下一步操作

1. **配置API密钥**: 编辑`api-keys.json`文件，添加真实的交易所API密钥
2. **创建配置文件**: 基于`configs/template.json`创建自己的配置
3. **测试回测**: 使用历史数据测试策略
4. **参数优化**: 使用优化器寻找最佳参数
5. **实盘交易**: 配置完成后可以开始实盘交易

## 注意事项

⚠️ **风险提示**:
- 加密货币交易存在高风险
- 建议先小资金测试
- 充分理解策略逻辑后再使用
- 定期监控交易状态

## 技术支持

- 项目文档: `docs/` 文件夹
- 社区支持: Discord 和 Telegram
- 项目分析: `project_analysis/` 文件夹

---

*部署完成时间: 2024年12月*
*部署环境: macOS + Python 3.13.3 + Rust 1.89.0*
